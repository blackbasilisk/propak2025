extends layout

block content
  div.login-container
    div.login-box
      h1 Login
      form(action="/login" method="post" onsubmit="setUsernameCookie()")
        div.form-group
          label(for="username") Username:
          select(name="username" id="username" class="form-control" required)
            option(value="Darryn") Darryn
            option(value="Dave") Dave
            option(value="Dillon") Dillon
            option(value="Ivan") Ivan
            option(value="Jenna") Jenna
            option(value="Matt") Matt
            option(value="Matthias") Matthias
            option(value="Michelle") Michelle
            option(value="Mike") Mike
            option(value="Nicholas") Nicholas
            option(value="Nikki") Nikki
            option(value="Ralf") Ralf
            option(value="Ryan") Ryan
            option(value="Taryn") Taryn
            option(value="Wesley") Wesley
        div.form-group
          button(type="submit" class="btn btn-primary") Login

  script.
    // Function to set a cookie with the selected username
    function setUsernameCookie() {
      const username = document.getElementById('username').value;
      document.cookie = `username=${username}; path=/; max-age=31536000`; // Cookie expires in 1 year
    }

    // Function to get a cookie by name
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
    }

    // Set the selected value of the dropdown based on the cookie
    document.addEventListener('DOMContentLoaded', function() {
      const username = getCookie('username');
      if (username) {
        document.getElementById('username').value = username;
      }
    });